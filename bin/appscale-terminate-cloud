#!/usr/bin/env python
# -*- encoding: utf-8 -*-
# tell pylint to ignore the filename containing a dash.  This is intentional to
# maintain convention with ec2-tools, euca-tools, appscale-tools, etc.
# pylint: disable=C0103
"""
Script for automating terminating an AppScale Cloud.

Currently works for EC2
"""

from clint.command import Command, run_command

from appscaletools.cloud import Cloud


class TerminateCloudCommand(Command):
    """
    Terminate an AppScale cloud
    """

    def __init__(self, doc=None):
        super(TerminateCloudCommand, self).__init__(doc=doc)

        self.cloud = None

    def _fill_parser(self):
        # pylint: disable=W0212
        super(TerminateCloudCommand, self)._fill_parser()
        # pylint: enable=W0212

        self.parser.add_argument('key_name', help='AppScale name given to the cloud')

    def run(self):
        self.cloud = Cloud(self.arguments.key_name, logger=self.logger)
        self.cloud.terminate()


run_command(__name__, TerminateCloudCommand)
